(()=>{"use strict";var t={977:(t,e,n)=>{n(858),n(805),n(287);function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}const o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=document.querySelector(".main"),this.getData()}var e,n,o;return e=t,(n=[{key:"populateDisplay",value:function(t){this.main.insertAdjacentHTML("beforeend",'\n            <div class="item">\n                <img src="'.concat(t.image,'" alt="').concat(t.name,'">\n                <p class="disPer">').concat(t.discount,'% off</p>\n                <div>\n                    <p class="name">').concat(t.name,'</p>\n                    <p><span class="origPrice">$').concat(t.price.display,'</span> <span class="disPrice">$').concat(t.price.actual,'</span></p>\n                    <button class="addToCart" data-name="').concat(t.name,'" data-img="').concat(t.image,'" data-price="').concat(t.price.actual,'" data-discount="').concat(t.discount,'">Add to cart</button>\n                </div>\n            </div>\n        '))}},{key:"parseData",value:function(t){var e=this;t.items.forEach((function(t){e.populateDisplay(t)}))}},{key:"getData",value:function(){var t=this;fetch("./cart.json").then((function(t){if(t.ok)return t.json();console.log("Error")})).then((function(e){t.parseData(e)})).catch((function(t){return console.log(t)}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}const c=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cart=document.querySelector(".cart"),this.header=document.querySelector(".site-header"),setTimeout((function(){return e.event()}),200)}var e,n,a;return e=t,(n=[{key:"removeMsg",value:function(){this.topMsg=document.querySelector(".msg"),this.topMsg.remove()}},{key:"showMsg",value:function(t){var e=this;this.header.insertAdjacentHTML("beforeend",'\n            <p class="msg">'.concat(t," is added to cart</p>\n        ")),setTimeout((function(){return e.removeMsg()}),1500)}},{key:"customEvent",value:function(t,e,n,a){var o=new CustomEvent("itemAdded",{detail:{product:t,quantity:e,price:n,discount:a}});this.cart.dispatchEvent(o)}},{key:"removeCart",value:function(t){t.target.parentElement.parentElement.parentElement.remove()}},{key:"increaseQty",value:function(t){var e=t.target.previousElementSibling,n=parseInt(e.textContent);n++,e.textContent=n}},{key:"decreaseQty",value:function(t){var e=t.target.nextElementSibling,n=parseInt(e.textContent);0==--n?e.parentElement.parentElement.remove():e.textContent=n}},{key:"addToCart",value:function(t){var e=this,n=t.target.dataset.name,a=t.target.dataset.img,o=t.target.dataset.price,r=t.target.dataset.discount;console.log(r),this.cart.querySelector('[data-name="'.concat(n,'"]'))||(this.cart.insertAdjacentHTML("beforeend",'\n                <div class="cart-item" data-name="'.concat(n,'">\n                    <div class="column column1">\n                        <img src="').concat(a,'" alt="item">\n                        <p>').concat(n,' <span class="close" data-name="').concat(n,'">x</span></p>\n                    </div>\n                    <div class="column column2">\n                        <span class="controlBtn minus">-</span>\n                        <p class="qty">').concat(1,'</p>\n                        <span class="controlBtn plus" data-n="').concat(n,'">+</span>\n                    </div>\n                    <p class="column">$<span class="price">').concat(o,"</span></p>\n                </div>\n            ")),this.closeBtns=this.cart.querySelectorAll(".close"),this.minusBtns=this.cart.querySelectorAll(".minus"),this.plusBtns=this.cart.querySelectorAll(".plus"),this.plusBtns.forEach((function(t){t.removeEventListener("click",e.increaseQty)})),this.minusBtns.forEach((function(t){t.addEventListener("click",e.decreaseQty)})),this.showMsg(n),this.customEvent(n,1,o,r),this.closeBtns.forEach((function(t){t.addEventListener("click",(function(t){return e.removeCart(t)}))})),this.plusBtns.forEach((function(t){console.log("event listener"),t.addEventListener("click",e.increaseQty)})),this.minusBtns.forEach((function(t){t.addEventListener("click",e.decreaseQty)})))}},{key:"event",value:function(){var t=this;this.cartBtns=document.querySelectorAll(".addToCart"),this.cartBtns.forEach((function(e){e.addEventListener("click",(function(e){return t.addToCart(e)}))}))}}])&&r(e.prototype,n),a&&r(e,a),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e,n,a,o=l(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this)).cart=document.querySelector(".cart"),t.addEvent=t.addEvent.bind(d(t)),t.totalItemsTag=document.querySelector(".totalItems"),t.totalPriceTag=document.querySelector(".totalPrice"),t.discountTag=document.querySelector(".discount"),t.grandTotalTag=document.querySelector(".grandTotal"),t.totalItems=0,t.totalPrice=0,t.totalDiscount=0,t.grandTotal=0,t}return e=r,(n=[{key:"addTotalItems",value:function(t){this.totalItems+=t.quantity,this.totalPrice+=parseInt(t.price),this.totalDiscount+=parseInt(t.discount)*parseInt(t.price)/100,this.grandTotal=this.totalPrice-this.totalDiscount,this.totalItemsTag.textContent=this.totalItems,this.totalPriceTag.textContent=this.totalPrice,this.discountTag.textContent=this.totalDiscount.toFixed(2),this.grandTotalTag.textContent=this.grandTotal.toFixed(2)}},{key:"updateTotalItems",value:function(t){console.log(t.quantity),this.totalItems-=parseInt(t.quantity),this.totalItemsTag.textContent=this.totalItems}},{key:"addEvent",value:function(t){this.addTotalItems(t.detail)}},{key:"event",value:function(){this.cart.addEventListener("itemAdded",this.addEvent)}}])&&s(e.prototype,n),a&&s(e,a),r}(c);new o,new c,new h}},e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.m=t,n.x=t=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0},e=[[977,280]],a=t=>{},o=(o,r)=>{for(var c,i,[s,u,l,f]=r,d=0,p=[];d<s.length;d++)i=s[d],n.o(t,i)&&t[i]&&p.push(t[i][0]),t[i]=0;for(c in u)n.o(u,c)&&(n.m[c]=u[c]);for(l&&l(n),o&&o(r);p.length;)p.shift()();return f&&e.push.apply(e,f),a()},r=self.webpackChunkpahaditravels=self.webpackChunkpahaditravels||[];function c(){for(var a,o=0;o<e.length;o++){for(var r=e[o],c=!0,i=1;i<r.length;i++){var s=r[i];0!==t[s]&&(c=!1)}c&&(e.splice(o--,1),a=n(n.s=r[0]))}return 0===e.length&&(n.x(),n.x=t=>{}),a}r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r));var i=n.x;n.x=()=>(n.x=i||(t=>{}),(a=c)())})(),n.x()})();