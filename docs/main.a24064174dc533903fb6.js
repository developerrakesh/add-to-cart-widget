(()=>{"use strict";var t={977:(t,e,n)=>{n(858),n(805),n(287);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=document.querySelector(".main"),this.getData()}var e,n,r;return e=t,(n=[{key:"populateDisplay",value:function(t){this.main.insertAdjacentHTML("beforeend",'\n            <div class="item">\n                <img src="'.concat(t.image,'" alt="').concat(t.name,'">\n                <p class="disPer">').concat(t.discount,'% off</p>\n                <div>\n                    <p class="name">').concat(t.name,'</p>\n                    <p><span class="origPrice">$').concat(t.price.display,'</span> <span class="disPrice">$').concat(t.price.actual,'</span></p>\n                    <button class="addToCart" data-name="').concat(t.name,'" data-img="').concat(t.image,'" data-price="').concat(t.price.actual,'" data-discount="').concat(t.discount,'">Add to cart</button>\n                </div>\n            </div>\n        '))}},{key:"parseData",value:function(t){var e=this;t.items.forEach((function(t){e.populateDisplay(t)}))}},{key:"getData",value:function(){var t=this;fetch("./cart.json").then((function(t){if(t.ok)return t.json();console.log("Error")})).then((function(e){t.parseData(e)})).catch((function(t){return console.log(t)}))}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const c=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cart=document.querySelector(".cart"),this.header=document.querySelector(".site-header"),setTimeout((function(){return e.event()}),200)}var e,n,o;return e=t,(n=[{key:"removeMsg",value:function(){this.topMsg=document.querySelector(".msg"),this.topMsg.remove()}},{key:"showMsg",value:function(t){var e=this;this.header.insertAdjacentHTML("beforeend",'\n            <p class="msg">'.concat(t," is added to cart</p>\n        ")),setTimeout((function(){return e.removeMsg()}),1500)}},{key:"customEvent",value:function(t,e,n,o){var r=new CustomEvent("itemAdded",{detail:{product:t,quantity:e,price:n,discount:o}});this.cart.dispatchEvent(r)}},{key:"removeCart",value:function(t){t.target.closest(".cart-item").remove()}},{key:"increaseQty",value:function(t){var e=t.target.closest(".cart-item"),n=parseInt(e.querySelector(".qty").textContent);parseInt(e.querySelector(".price").textContent),n++,e.querySelector(".qty").textContent=n}},{key:"decreaseQty",value:function(t){var e=t.target.closest(".cart-item"),n=parseInt(e.querySelector(".qty").textContent);parseInt(e.querySelector(".price").textContent),0==--n?e.remove():e.querySelector(".qty").textContent=n}},{key:"addToCart",value:function(t){var e=this,n=t.target.dataset.name,o=t.target.dataset.img,r=t.target.dataset.price,a=t.target.dataset.discount;console.log(a),this.cart.querySelector('[data-name="'.concat(n,'"]'))||(this.cart.insertAdjacentHTML("beforeend",'\n                <div class="cart-item" data-name="'.concat(n,'">\n                    <div class="column column1">\n                        <img src="').concat(o,'" alt="item">\n                        <p>').concat(n,' <span class="close" data-name="').concat(n,'">x</span></p>\n                    </div>\n                    <div class="column column2">\n                        <span class="controlBtn minus">-</span>\n                        <p class="qty">1</p>\n                        <span class="controlBtn plus">+</span>\n                    </div>\n                    <p class="column">$<span class="price">').concat(r,"</span></p>\n                </div>\n            ")),this.showMsg(n),this.customEvent(n,1,r,a),this.closeBtns=this.cart.querySelectorAll(".close"),this.plusBtns=this.cart.querySelectorAll(".plus"),this.minusBtns=this.cart.querySelectorAll(".minus"),this.closeBtns.forEach((function(t){t.addEventListener("click",(function(t){return e.removeCart(t)}))})),this.plusBtns.forEach((function(t){t.addEventListener("click",(function(t){return e.increaseQty(t)}))})),this.minusBtns.forEach((function(t){t.addEventListener("click",(function(t){return e.decreaseQty(t)}))})))}},{key:"event",value:function(){var t=this;this.cartBtns=document.querySelectorAll(".addToCart"),this.cartBtns.forEach((function(e){e.addEventListener("click",(function(e){return t.addToCart(e)}))}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,t);var e,n,o,r=l(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this)).cart=document.querySelector(".cart"),t.addEvent=t.addEvent.bind(d(t)),t.totalItemsTag=document.querySelector(".totalItems"),t.totalPriceTag=document.querySelector(".totalPrice"),t.discountTag=document.querySelector(".discount"),t.grandTotalTag=document.querySelector(".grandTotal"),t.totalItems=0,t.totalPrice=0,t.totalDiscount=0,t.grandTotal=0,t}return e=a,(n=[{key:"addTotalItems",value:function(t,e,n,o){this.totalItems+=e,this.totalPrice+=parseInt(n),this.totalDiscount+=parseInt(o)*parseInt(n)/100,this.grandTotal=this.totalPrice-this.totalDiscount,this.totalItemsTag.textContent=this.totalItems,this.totalPriceTag.textContent=this.totalPrice,this.discountTag.textContent=this.totalDiscount.toFixed(2),this.grandTotalTag.textContent=this.grandTotal.toFixed(2)}},{key:"updateTotalItems",value:function(t){console.log(t.quantity),this.totalItems-=parseInt(t.quantity),this.totalItemsTag.textContent=this.totalItems}},{key:"addEvent",value:function(t){this.addTotalItems(t.detail.product,t.detail.quantity,t.detail.price,t.detail.discount)}},{key:"event",value:function(){this.cart.addEventListener("itemAdded",this.addEvent)}}])&&s(e.prototype,n),o&&s(e,o),a}(c);new r,new c,new h}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,n.x=t=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0},e=[[977,280]],o=t=>{},r=(r,a)=>{for(var c,i,[s,u,l,f]=a,d=0,p=[];d<s.length;d++)i=s[d],n.o(t,i)&&t[i]&&p.push(t[i][0]),t[i]=0;for(c in u)n.o(u,c)&&(n.m[c]=u[c]);for(l&&l(n),r&&r(a);p.length;)p.shift()();return f&&e.push.apply(e,f),o()},a=self.webpackChunkpahaditravels=self.webpackChunkpahaditravels||[];function c(){for(var o,r=0;r<e.length;r++){for(var a=e[r],c=!0,i=1;i<a.length;i++){var s=a[i];0!==t[s]&&(c=!1)}c&&(e.splice(r--,1),o=n(n.s=a[0]))}return 0===e.length&&(n.x(),n.x=t=>{}),o}a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a));var i=n.x;n.x=()=>(n.x=i||(t=>{}),(o=c)())})(),n.x()})();